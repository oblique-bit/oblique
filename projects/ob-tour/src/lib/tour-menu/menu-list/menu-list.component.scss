@use "sass:map";
@use "../../styles" as styles;

.obt-tour-list {
	margin: 0;
	padding: 0;
	list-style: none;

	ul {
		margin-bottom: styles.$obt-spacing-md;
		padding: 0;
		list-style: none;
	}

	.obt-tour-list-item {
		display: flex;
		align-items: center;
		justify-content: space-between;
		gap: styles.$obt-spacing-md;
		padding: styles.$obt-spacing-sm 0;
		border-bottom: 1px solid styles.$obt-secondary-100;
		background-color: styles.$obt-white;
		font-family: styles.$obt-font;
		font-size: styles.$obt-font-size-normal;
		color: styles.$obt-secondary-700;
		transition:
			background-color 0.2s ease-in-out,
			color 0.2s ease-in-out,
			flex-direction 0.3s ease;

		&.expanded {
			flex-direction: column;
			align-items: stretch;
			width: 100%;
		}
	}

	.obt-tour-title {
		font-weight: 600;
		color: styles.$obt-secondary-700;
		line-height: styles.$obt-line-height;
	}

	.action-list {
		display: flex;
		justify-content: flex-end;
		align-items: center;
		gap: styles.$obt-spacing-xs;
		margin: 0;
		padding: 0;
		list-style: none;

		mat-icon {
			margin: 0;
		}
	}

	.obt-accordion-item {
		display: block;
		width: 100%;
		border: none;

		&.cdk-accordion-item-expanded .obt-accordion-item-body {
			display: block;
			background-color: styles.$obt-secondary-50;
		}

		& + .obt-accordion-item {
			border-top: none;
		}

		&:first-child {
			border-top-left-radius: 4px;
			border-top-right-radius: 4px;
		}

		&:last-child {
			border-bottom-left-radius: 4px;
			border-bottom-right-radius: 4px;
		}
	}

	$padding: styles.$obt-spacing-sm;
	$accordion-padding: calc($padding * 0.5);

	.obt-accordion-item-header {
		display: flex;
		align-items: flex-start;
		justify-content: space-between;
		width: 100%;
		background: none;
		border: none;
		padding: $accordion-padding;
		text-align: left;
		cursor: pointer;
		transition: background-color 0.2s ease-in-out;

		&:hover {
			background-color: styles.$obt-secondary-50;
		}

		&:focus-visible {
			@include styles.obt-tab-focus-box-shadow ();
			border-radius: 2px;
		}
	}

	.obt-accordion-item-body {
		padding: styles.$obt-spacing-sm 0 0;
		width: 100%;
		box-sizing: border-box;
	}
}
