<h2 id="ob-navigationlabel" class="ob-screen-reader-only" *ngIf="links.length">{{ "i18n.oblique.header.navigation.title" | translate }}</h2>
<button
	class="ob-navigation-scrollable-control ob-navigation-scrollable-control-left"
	type="button"
	(click)="scrollLeft()"
	*ngIf="isScrollable"
	[disabled]="!currentScroll"
	aria-hidden="true"
>
	<span class="ob-icon-wrapper"><mat-icon svgIcon="chevron-left"></mat-icon></span>
</button>
<ng-content *ngIf="!links.length"></ng-content>
<nav aria-labelledby="ob-navigationlabel">
	<ul
		aria-labelledby="ob-navigationlabel"
		id="navigation"
		*ngIf="links.length"
		class="ob-main-nav"
		[class.ob-navigation-scrollable-content]="isScrollable"
		[class.ob-main-nav-fw]="isFullWidth"
		tabindex="-1"
		obMasterLayoutNavigationMenu
	>
		<li
			class="ob-main-nav-item"
			obMasterLayoutNavigationItem
			#obMasterLayoutNavigationItem="obMasterLayoutNavigationItem"
			*ngFor="let link of links"
		>
			<ng-container *ngIf="!link.isExternal">
				<a
					class="ob-master-layout-navigation-link"
					[attr.id]="link.id"
					[routerLink]="link.url"
					[routerLinkActive]="activeClass"
					[routerLinkActiveOptions]="link.routerLinkActiveOptions || this.routerLinkActiveOptions"
					[fragment]="link.fragment"
					[queryParams]="link.queryParams"
					[attr.aria-current]="link.active ? 'page' : undefined"
					[matTooltip]="link.iconOnly ? (link.label | translate) : undefined"
					*ngIf="!link.children"
					(click)="close()"
				>
					<span class="ob-icon-wrapper"><mat-icon *ngIf="link.icon" [svgIcon]="link.icon"></mat-icon></span>
					<span [class.ob-screen-reader-only]="link.icon && link.iconOnly">{{ link.label | translate }}</span>
				</a>
			</ng-container>
			<ng-container *ngIf="link.isExternal">
				<a
					class="ob-master-layout-navigation-link"
					[icon]="hideExternalLinks ? 'none' : 'right'"
					[attr.id]="link.id"
					[href]="link.url"
					[target]="link.sameTarget ? '' : '_blank'"
					[rel]="link.sameTarget ? '' : 'noopener noreferrer'"
					[matTooltip]="link.iconOnly ? (link.label | translate) : undefined"
					*ngIf="!link.children"
				>
					<span class="ob-icon-wrapper"><mat-icon *ngIf="link.icon" [svgIcon]="link.icon"></mat-icon></span>
					<span [class.ob-screen-reader-only]="link.icon && link.iconOnly">{{ link.label | translate }}</span>
				</a>
			</ng-container>
			<ng-container *ngIf="link.children">
				<button
					type="button"
					class="ob-master-layout-navigation-link ob-master-layout-navigation-toggle"
					[attr.id]="link.id"
					[class.active]="link.active"
					[attr.aria-current]="link.active ? 'page' : undefined"
					[matTooltip]="link.iconOnly ? (link.label | translate) : undefined"
					(click)="toggleSubMenu(obMasterLayoutNavigationItem, link.id ?? link.label)"
					[obAriaMenuButton]="'menu-' + link.id || link.url"
				>
					<span class="ob-icon-wrapper ob-toggle-layout-collapsed"
						><mat-icon svgIcon="chevron-right" class="ob-nav-toggle"></mat-icon
					></span>
					<span class="ob-icon-wrapper"><mat-icon *ngIf="link.icon" [svgIcon]="link.icon"></mat-icon></span>
					<span [class.ob-screen-reader-only]="link.icon && link.iconOnly">{{ link.label | translate }}</span>
					<span class="ob-icon-wrapper ob-toggle-collapsed"><mat-icon svgIcon="chevron-down" class="ob-nav-toggle"></mat-icon></span>
					<span class="ob-icon-wrapper ob-toggle-expanded"><mat-icon svgIcon="chevron-up" class="ob-nav-toggle"></mat-icon></span>
				</button>
				<div class="ob-sub-menu" [id]="'menu-' + (link.id || link.url)">
					<button
						type="button"
						mat-button
						obButton="tertiary"
						class="ob-sub-menu-close-button"
						(click)="obMasterLayoutNavigationItem.closeSubMenu(false)"
					>
						{{ "i18n.oblique.off-canvas.close" | translate }} <mat-icon matSuffix svgIcon="cancel"></mat-icon>
					</button>
					<ul class="ob-main-nav ob-sub-nav">
						<li>
							<button
								class="ob-sub-menu-back"
								type="button"
								(click)="currentParentLink === link.label ? obMasterLayoutNavigationItem.closeSubMenu(false) : backUpSubMenu()"
							>
								<span class="ob-icon-wrapper"><mat-icon svgIcon="chevron-left"></mat-icon></span>
								<span class="ob-label">{{ link.label | translate }}</span>
							</button>
						</li>
						<li *ngFor="let child of link.children">
							<ob-master-layout-navigation-sub-menu-item
								[activeClass]="activeClass"
								[child]="child"
								[currentParent]="currentParentLink | translate"
								[link]="link"
								[obMasterLayoutNavigationItem]="obMasterLayoutNavigationItem"
								[routerLinkActiveOptions]="routerLinkActiveOptions"
								[routerLinkBase]="link.url"
								(changeCurrentParent)="changeCurrentParentLink($event)"
								class="first-child"
							></ob-master-layout-navigation-sub-menu-item>
						</li>
					</ul>
				</div>
			</ng-container>
		</li>
	</ul>
</nav>
<button
	class="ob-navigation-scrollable-control ob-navigation-scrollable-control-right"
	(click)="scrollRight()"
	type="button"
	*ngIf="isScrollable"
	[disabled]="currentScroll === maxScroll"
	aria-hidden="true"
>
	<mat-icon svgIcon="chevron-right"></mat-icon>
</button>
