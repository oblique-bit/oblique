<ng-container *ngIf="currentParent.id === link.id; else descendants">
	<a
		*ngIf="child.isExternal; else internalLink"
		class="ob-master-layout-navigation-link"
		[icon]="hideExternalLinks ? 'none' : 'right'"
		[id]="child.id"
		[href]="child.url"
		[target]="child.sameTarget ? '' : undefined"
		[rel]="child.sameTarget ? '' : undefined"
		[matTooltip]="child.iconOnly ? (child.label | translate) : undefined"
		(click)="obMasterLayoutNavigationItem.closeSubMenu()"
	>
		<span class="ob-icon-wrapper"><mat-icon *ngIf="child.icon" [svgIcon]="child.icon" /></span>
		<span [class.ob-screen-reader-only]="child.icon && child.iconOnly">{{ child.label | translate }}</span>
	</a>
	<ng-template #internalLink>
		<a
			class="ob-master-layout-navigation-link"
			[id]="child.id"
			[routerLink]="routerLinkBase + '/' + child.url"
			[routerLinkActive]="activeClass"
			[fragment]="child.fragment"
			[routerLinkActiveOptions]="link.routerLinkActiveOptions || this.routerLinkActiveOptions"
			[queryParams]="child.queryParams"
			[attr.aria-current]="link.active ? 'page' : undefined"
			[matTooltip]="child.iconOnly ? (child.label | translate) : undefined"
			(click)="obMasterLayoutNavigationItem.closeSubMenu()"
		>
			<span class="ob-icon-wrapper"><mat-icon *ngIf="child.icon" [svgIcon]="child.icon" /></span>
			<span [class.ob-screen-reader-only]="child.icon && child.iconOnly">{{ child.label | translate }}</span>
		</a>
	</ng-template>
	<button
		*ngIf="child.children && showChildren"
		[id]="'ob-sub-menu-go-to-children-button-' + child.id"
		type="button"
		mat-icon-button
		obButton="tertiary"
		class="ob-sub-menu-go-to-children-button"
		(click)="goToChildren(child)"
	>
		<mat-icon matSuffix svgIcon="arrow-right" />
		<span class="ob-screen-reader-only">{{
			"i18n.oblique.master-layout.navigation.link.go-to-children" | translate: { parentLabel: (child.label | translate) }
		}}</span>
	</button>
</ng-container>
<ng-template #descendants>
	<ng-container *ngIf="child.children && showChildren">
		<ob-master-layout-navigation-sub-menu-item
			*ngFor="let grandchild of child.children"
			class="descendants"
			[activeClass]="activeClass"
			[child]="grandchild"
			[currentParent]="currentParent"
			[id]="'ob-descendants-' + link.id"
			[link]="child"
			[obMasterLayoutNavigationItem]="obMasterLayoutNavigationItem"
			[routerLinkActiveOptions]="routerLinkActiveOptions"
			[routerLinkBase]="routerLinkBase + '/' + child.url"
			(changeCurrentParent)="goToChildren($event)"
		/>
	</ng-container>
</ng-template>
