<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modes Architecture Implementation Roadmap</title>
    <style>
        @page {
            size: A4 landscape;
            margin: 1.5cm;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
            font-size: 11pt;
            line-height: 1.5;
            color: #333;
            max-width: none;
            margin: 0;
            padding: 20px;
        }
        
        /* Headers */
        h1 {
            font-size: 20pt;
            font-weight: 700;
            color: #1a1a1a;
            border-bottom: 3px solid #007acc;
            padding-bottom: 10pt;
            margin: 0 0 20pt 0;
            page-break-after: avoid;
        }
        
        h2 {
            font-size: 16pt;
            font-weight: 600;
            color: #2c3e50;
            margin: 20pt 0 12pt 0;
            page-break-after: avoid;
            border-left: 4px solid #007acc;
            padding-left: 12pt;
        }
        
        h3 {
            font-size: 13pt;
            font-weight: 600;
            color: #34495e;
            margin: 16pt 0 10pt 0;
            page-break-after: avoid;
        }
        
        h4 {
            font-size: 12pt;
            font-weight: 600;
            color: #5d6d7e;
            margin: 12pt 0 8pt 0;
        }
        
        /* Paragraphs and content */
        p {
            margin: 0 0 10pt 0;
            text-align: justify;
        }
        
        /* Lists */
        ul, ol {
            margin: 10pt 0;
            padding-left: 25pt;
        }
        
        li {
            margin: 4pt 0;
        }
        
        /* Code blocks */
        pre {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 6px;
            padding: 16pt;
            font-family: "SF Mono", Monaco, "JetBrains Mono", "Cascadia Code", monospace;
            font-size: 10pt;
            line-height: 1.4;
            overflow-wrap: break-word;
            page-break-inside: avoid;
            margin: 12pt 0;
        }
        
        code {
            background: #f1f3f4;
            padding: 2pt 6pt;
            border-radius: 3px;
            font-family: "SF Mono", Monaco, monospace;
            font-size: 10pt;
            color: #d63384;
        }
        
        /* Tables */
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 16pt 0;
            font-size: 10pt;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8pt 12pt;
            text-align: left;
        }
        
        th {
            background-color: #f8f9fa;
            font-weight: 600;
        }
        
        /* Blockquotes */
        blockquote {
            border-left: 4px solid #007acc;
            margin: 16pt 0;
            padding: 12pt 20pt;
            background: #f8f9fa;
            font-style: italic;
        }
        
        /* Special sections */
        .phase-section {
            page-break-before: always;
            border-top: 2px solid #ddd;
            padding-top: 16pt;
            margin-top: 20pt;
        }
        
        .architecture-diagram {
            background: #f0f8ff;
            border-left: 4px solid #007acc;
            margin: 12pt 0;
        }
        
        /* Status indicators */
        .status-complete { color: #28a745; font-weight: bold; }
        .status-progress { color: #ffc107; font-weight: bold; }
        .status-planned { color: #17a2b8; font-weight: bold; }
        
        /* Print optimizations */
        @media print {
            body {
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .page-break {
                page-break-before: always;
            }
        }
        
        /* Two column layout for wide content */
        .benefits-section {
            column-count: 2;
            column-gap: 30pt;
            column-rule: 1px solid #eee;
        }
        
        /* Header styling */
        .document-header {
            text-align: center;
            border-bottom: 2px solid #007acc;
            padding-bottom: 16pt;
            margin-bottom: 24pt;
        }
        
        .document-subtitle {
            color: #666;
            font-size: 12pt;
            margin-top: 8pt;
        }
    </style>
</head>
<body>
    <div class="document-header">
        <h1 style="border: none; margin: 0;">Modes Architecture Implementation Roadmap</h1>
        <p class="document-subtitle">Design System Strategic Planning â€¢ September 2025</p>
    </div>
    
    <div id="markdown-content">


<strong>Date:</strong> September 11, 2025  
<strong>Status:</strong> Strategic Planning & Architecture Design  
<strong>Context:</strong> Establishing comprehensive modes system architecture with phased implementation strategy

<h2>Current State Analysis</h2>

<h3><span class="status-complete">âœ…</span> <strong>Already Working Modes</strong></h3>
<ul><li><strong>Lightness modes</strong>: <code>light/dark</code> themes fully implemented and functional</li><li><strong>Interaction-emphasis modes</strong>: <code>low/standard/high</code> emphasis system operational  </li><li><strong>Viewport modes</strong>: Responsive multiplier system (<code>mult_responsive: 4px desktop, 5px mobile</code>)</li></ul>

<h3><span class="status-progress">ğŸ”„</span> <strong>Partial Implementation Status</strong></h3>
<ul><li><strong>Component size modes</strong>: Mixed implementation patterns</li></ul>
  - <code>icon_holder</code>: <span class="status-complete">âœ…</span> Full size-mode file structure (sm/md/lg + static.json)
  - <code>tag</code>: âš ï¸ Size-aware tokens within single file (needs migration)
<p>  - Other components: ğŸ” Assessment needed</p>

<h3>ğŸ“‹ <strong>Current Token Architecture Foundation</strong></h3>
``<code>
<p><span class="status-complete">âœ…</span> Working Foundation:</p>
<p>semantic/</p>
<p>â”œâ”€â”€ sizing.json              # W3C DTCG compliant</p>
<p>â”œâ”€â”€ spacing/desktop.json     # Responsive multipliers  </p>
<p>â”œâ”€â”€ spacing/mobile.json      # Responsive multipliers</p>
<p>â”œâ”€â”€ color/s1-lightness/      # Light/dark themes</p>
<p>â”œâ”€â”€ color/s2-emphasis/       # Emphasis modes</p>
<p>â””â”€â”€ color/s3-semantic/       # Compiled semantic layer</p>

<p>global/themes-user/</p>
<p>â”œâ”€â”€ lightness/              # Light/dark switching</p>
<p>â””â”€â”€ viewport/               # Responsive system (4px/5px)</p>
</code>`<code>

<h3>âš ï¸ <strong>Identified Gaps for MVP</strong></h3>
<ul><li>Missing: Unified </code>semantic/modes/<code> architecture</li><li>Missing: </code>component-size<code> theme configuration </li><li>Missing: Basic </code>viewport<code> mode simplification (desktop/mobile only)</li><li>Inconsistent: Component size implementation patterns</li></ul>

<h2>ï¿½ Strategic Objectives</h2>

<strong>Primary Goal:</strong> Establish comprehensive modes architecture foundation with <span class="phase-section">Phase 1</span> MVP implementation:
<ul><li><strong>Big picture architecture</strong> - Complete future vision with 11-dimensional modes system</li><li><strong>Strategic roadmap</strong> - Phased implementation strategy for systematic expansion  </li><li><strong>Architecture foundation</strong> - Extensible framework for all future mode types</li><li><strong><span class="phase-section">Phase 1</span> MVP modes</strong> - Essential foundation modes for immediate implementation</li></ul>

<h2>ï¿½ğŸ—ï¸ Complete Future Architecture Vision</h2>

<strong>ğŸ“‹ Full Modes Architecture Roadmap</strong> *(All structures prepared, selective implementation)*

<h3><strong><span class="phase-section">Phase 1</span>: MVP Foundation Modes</strong> *(Primary Implementation Focus)*</h3>
<ul><li><strong>Lightness modes</strong> - </code>light/dark<code> <span class="status-complete">âœ…</span> (existing theme lightness switching)</li><li><strong>Interaction-emphasis modes</strong> - </code>low/standard/high<code> <span class="status-complete">âœ…</span> (existing component interaction states)  </li><li><strong>Component Size modes</strong> - </code>sm/md/lg<code> <span class="status-progress">ğŸ”„</span> (WIP migration - component dimension coordination)</li><li><strong>Viewport modes (basic)</strong> - </code>desktop/mobile<code> <span class="status-planned">ğŸ†•</span> (simplified device distinction for MVP)</li></ul>

<h3><strong><span class="phase-section">Phase 2</span>: Advanced System Modes</strong> *(Architecture Ready, Implementation Deferred)*</h3>
<ul><li><strong>Density modes</strong> - </code>compact/comfortable/spacious<code> (layout spacing optimization)</li><li><strong>Viewport modes (full coverage)</strong> - All device types + landscape/portrait + touch interaction patterns</li><li><strong>Contrast modes</strong> - </code>standard/high<code> (A11y color contrast enhancement)</li></ul>

<h3><strong><span class="phase-section">Phase 3</span>: User Preference & Accessibility Modes</strong></h3>
<ul><li><strong>Motion modes</strong> - </code>enabled/disabled/reduced<code> (animation accessibility controls)</li><li><strong>Typography modes</strong> - </code>readable/standard/compact/A+/A/Aâ€“/dyslexia-friendly<code> (font weight, line height, letter spacing for readability + user preference typography scaling + dyslexia support)</li><li><strong>Colorblind modes</strong> - </code>standard/deuteranopia/protanopia/tritanopia/achromatopsia<code> (colorblind-friendly palettes for common color vision deficiencies)</li><li><strong>Motion Preference modes</strong> - User-controlled animation settings with system integration</li><li><strong>Contrast Preference modes</strong> - User-controlled contrast with system high-contrast support</li></ul>

<h3><strong>Complete Multi-Dimensional Architecture</strong></h3>
</code>`<code>
<p>Full Future System (All 11 Mode Types): </p>
<p>lightness Ã— interaction-emphasis Ã— viewport Ã— component-size Ã— density Ã— contrast Ã— motion Ã— typography Ã— user-font-scale Ã— user-motion-pref Ã— user-contrast-pref Ã— dyslexia-support</p>
<p>= 11-dimensional mode combinations</p>
</code>`<code>

<h2>ğŸš€ MVP Implementation Scope</h2>

<strong>ğŸ¯ MVP Goal:</strong> Prove modes architecture with essential foundation + targeted testing

<h3><strong>MVP Modes Selection</strong> *(<span class="phase-section">Phase 1</span> Essential Implementation)*</h3>
<ul><li><strong><span class="status-complete">âœ…</span> Lightness modes</strong>: </code>light/dark<code> (existing theme lightness switching) </li><li><strong><span class="status-complete">âœ…</span> Interaction-emphasis modes</strong>: </code>low/standard/high<code> (existing component interaction states)</li><li><strong><span class="status-progress">ğŸ”„</span> Component Size modes</strong>: </code>sm/md/lg<code> (WIP migration - component dimension coordination) </li><li><strong><span class="status-planned">ğŸ†•</span> Viewport modes</strong>: </code>desktop/mobile<code> (basic 2-breakpoint system for MVP)</li></ul>

<strong>MVP Architecture</strong>: </code>lightness Ã— interaction-emphasis Ã— component-size Ã— viewport<code> (4D system)

<p>*Note: Density modes moved to <span class="phase-section">Phase 2</span> - focus on size mode migration completion first*</p>

<h3><strong>MVP Component Testing Suite</strong> *(Strategic Component Selection)*</h3>

<h4><strong>ğŸ§ª Test Case 1: Simple Component</strong> - </code>icon_holder<code></h4>
<ul><li><strong>Purpose</strong>: Baseline size mode behavior validation</li><li><strong>Modes tested</strong>: All size modes (sm/md/lg) </li><li><strong>Complexity</strong>: Low (single dimension changes)</li></ul>

<h4><strong>ğŸ§ª Test Case 2: Interactive Component</strong> - </code>button<code> </h4>
<ul><li><strong>Purpose</strong>: Interactive states + size mode coordination</li><li><strong>Modes tested</strong>: All size modes + interaction-emphasis modes + lightness modes</li><li><strong>Complexity</strong>: Medium (multiple mode interactions)</li></ul>

<h4><strong>ğŸ§ª Test Case 3: Content Component</strong> - </code>tag<code></h4>
<ul><li><strong>Purpose</strong>: Text content + size mode relationships  </li><li><strong>Modes tested</strong>: All size modes + interaction-emphasis modes + basic viewport modes</li><li><strong>Complexity</strong>: Medium (content-responsive sizing + viewport coordination)</li></ul>

<h4><strong>ğŸ§ª Test Case 4: Status Component</strong> - </code>infobox<code></h4>
<ul><li><strong>Purpose</strong>: Semantic color modes + worst-case status scenarios</li><li><strong>Modes tested</strong>: All interaction-emphasis modes + lightness modes (all status colors)</li><li><strong>Complexity</strong>: High (color mode combinations + status semantics)</li></ul>

<h4><strong>ğŸ§ª Test Case 5: Composite Component</strong> - </code>input text field<code></h4>
<ul><li><strong>Purpose</strong>: Babuschka doll complexity (input + tag + remove button inside)</li><li><strong>Modes tested</strong>: All <span class="phase-section">Phase 1</span> modes combined (lightness Ã— interaction-emphasis Ã— component-size Ã— viewport)</li><li><strong>Complexity</strong>: Very High (nested component mode inheritance + worst-case scenario)</li></ul>

<h3><strong>MVP Token Foundation</strong> *(Complete Architecture, Selective Population)*</h3>

</code>`<code>
<p>semantic/</p>
<p>â”œâ”€â”€ modes/                    # <span class="status-planned">ğŸ†•</span> COMPLETE ARCHITECTURE PREPARED</p>
<p>â”‚   â”œâ”€â”€ component-size/       # <span class="status-complete">âœ…</span> MVP: Full implementation (sm/md/lg)</p>
<p>â”‚   â”‚   â”œâ”€â”€ sm.json</p>
<p>â”‚   â”‚   â”œâ”€â”€ md.json  </p>
<p>â”‚   â”‚   â””â”€â”€ lg.json</p>
<p>â”‚   â”œâ”€â”€ density/             # <span class="status-progress">ğŸ”„</span> STRUCTURE READY: Implementation deferred from MVP</p>
<p>â”‚   â”‚   â”œâ”€â”€ compact.json     # (architecture prepared, tokens placeholder)</p>
<p>â”‚   â”‚   â”œâ”€â”€ comfortable.json</p>
<p>â”‚   â”‚   â””â”€â”€ spacious.json</p>
<p>â”‚   â””â”€â”€ _future-modes/       # ğŸ—ï¸ COMPLETE STRUCTURE PREPARED</p>
<p>â”‚       â”œâ”€â”€ responsive/      # (folder structure + placeholder files)</p>
<p>â”‚       â”œâ”€â”€ contrast/        </p>
<p>â”‚       â”œâ”€â”€ motion/         </p>
<p>â”‚       â”œâ”€â”€ typography/      </p>
<p>â”‚       â””â”€â”€ user-preferences/</p>
</code>`<code>

</code>`<code>
<p>global/themes-user/</p>
<p>â”œâ”€â”€ lightness/              # <span class="status-complete">âœ…</span> MVP: Existing (light/dark)</p>
<p>â”œâ”€â”€ interaction-emphasis/   # <span class="status-complete">âœ…</span> MVP: Existing (s2-emphasis modes: low/standard/high)</p>
<p>â”œâ”€â”€ viewport/               # <span class="status-complete">âœ…</span> MVP: Simplified (desktop/mobile only)</p>
<p>â”œâ”€â”€ component-size/         # <span class="status-complete">âœ…</span> MVP: Full implementation  </p>
<p>â”‚   â”œâ”€â”€ sm.json</p>
<p>â”‚   â”œâ”€â”€ md.json</p>
<p>â”‚   â””â”€â”€ lg.json</p>
<p>â”œâ”€â”€ density/               # <span class="status-progress">ğŸ”„</span> STRUCTURE READY: Files created, implementation deferred</p>
<p>â””â”€â”€ _future-modes/         # ğŸ—ï¸ COMPLETE STRUCTURE: All folders + placeholder files</p>
</code>`<code>
<p><strong>ğŸ¯ Implementation Phases:</strong></p>
<ul><li><strong><span class="phase-section">Phase 1</span> (MVP)</strong>: 4 essential modes - </code>lightness Ã— interaction-emphasis Ã— viewport Ã— component-size<code></li><li><strong><span class="phase-section">Phase 2</span></strong>: Add advanced system modes - </code>+ density Ã— contrast Ã— motion + full viewport coverage<code>  </li><li><strong><span class="phase-section">Phase 3</span></strong>: Add user preference & accessibility modes - </code>+ typography Ã— user-font-scale Ã— user-motion-pref Ã— user-contrast-pref Ã— dyslexia-support<code></li></ul>

<p>*Complete architecture prepared from start, selective activation by phase*</p>

<h4><span class="status-complete">âœ…</span> <strong>Already Implemented - Icon Holder Component</strong></h4>
<strong>Location:</strong> </code>src/lib/themes/component/atom/icon_holder/<code>
</code>`<code>
<p>â”œâ”€â”€ sm.json    # Small variant</p>
<p>â”œâ”€â”€ md.json    # Medium variant  </p>
<p>â”œâ”€â”€ lg.json    # Large variant</p>
<p>â””â”€â”€ static.json # Context-independent</p>
</code>`<code>

<p><strong>Current Structure:</strong></p>
</code>`<code>json
<p>{</p>
<p>  "ob": {</p>
<p>    "c": {</p>
<p>      "icon_holder": {</p>
<p>        "size": {</p>
<p>          "standard": { "$value": "{ob.p.size.250}" },</p>
<p>          "mini": { "$value": "{ob.p.size.175}" }</p>
<p>        }</p>
<p>      }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<h4><span class="status-complete">âœ…</span> <strong>Partially Implemented - Tag Component</strong></h4>
<strong>Location:</strong> </code>src/lib/themes/component/molecule/tag.json<code>

<p><strong>Current Pattern - Size-aware tokens within single file:</strong></p>
</code>`<code>json
<p>{</p>
<p>  "padding": {</p>
<p>    "vertical": {</p>
<p>      "sm": { "$value": "{ob.s.spacing.none}" },</p>
<p>      "md": { "$value": "{ob.s.spacing.xs}" },</p>
<p>      "lg": { "$value": "{ob.s.spacing.lg}" }</p>
<p>    },</p>
<p>    "horizontal": {</p>
<p>      "sm": { "$value": "{ob.s.spacing.md}" },</p>
<p>      "md": { "$value": "{ob.s.spacing.lg}" },</p>
<p>      "lg": { "$value": "{ob.s.spacing.2xl}" }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<h3>Current Token Architecture</h3>

<h4><strong>Existing Semantic Structure:</strong></h4>
</code>`<code>
<p>semantic/</p>
<p>â”œâ”€â”€ sizing.json           # <span class="status-complete">âœ…</span> W3C DTCG compliant dimension tokens</p>
<p>â”œâ”€â”€ spacing/</p>
<p>â”‚   â”œâ”€â”€ desktop.json     # <span class="status-complete">âœ…</span> Responsive spacing with multipliers</p>
<p>â”‚   â””â”€â”€ mobile.json      # <span class="status-complete">âœ…</span> Responsive spacing with multipliers</p>
<p>â”œâ”€â”€ color/</p>
<p>â”‚   â”œâ”€â”€ s1-lightness/    # <span class="status-complete">âœ…</span> Theme mode implementation</p>
<p>â”‚   â”œâ”€â”€ s2-emphasis/     # <span class="status-complete">âœ…</span> Emphasis mode implementation</p>
<p>â”‚   â””â”€â”€ s3-semantic/     # <span class="status-complete">âœ…</span> Compiled semantic layer</p>
<p>â””â”€â”€ [other categories]</p>
</code>`<code>

<h4><strong>Global Theme System:</strong></h4>
</code>`<code>
<p>global/themes-user/</p>
<p>â”œâ”€â”€ lightness/           # <span class="status-complete">âœ…</span> Light/dark theme switching</p>
<p>â”‚   â”œâ”€â”€ dark.json</p>
<p>â”‚   â””â”€â”€ light.json</p>
<p>â””â”€â”€ viewport/           # <span class="status-complete">âœ…</span> Responsive multiplier system</p>
<p>    â”œâ”€â”€ desktop.json    # mult_responsive: 4</p>
<p>    â”œâ”€â”€ mobile.json     # mult_responsive: 5</p>
<p>    â””â”€â”€ static.json</p>
</code>`<code>

<h2>Modes Architecture Implementation Strategy</h2>

<h3><span class="phase-section">Phase 1</span>: Establish Universal Modes Architecture Foundation</h3>

<h4><strong>Create semantic/modes/ Architecture Framework</strong></h4>
</code>`<code>
<p>semantic/</p>
<p>â”œâ”€â”€ modes/               # <span class="status-planned">ğŸ†•</span> NEW: Universal modes system architecture</p>
<p>â”‚   â”œâ”€â”€ component-size/  # <span class="status-planned">ğŸ†•</span> Component dimension modes</p>
<p>â”‚   â”‚   â”œâ”€â”€ sm.json     # Small size mode tokens</p>
<p>â”‚   â”‚   â”œâ”€â”€ md.json     # Medium size mode tokens (baseline)</p>
<p>â”‚   â”‚   â””â”€â”€ lg.json     # Large size mode tokens</p>
<p>â”‚   â”œâ”€â”€ density/        # <span class="status-planned">ğŸ†•</span> Spacing density modes</p>
<p>â”‚   â”‚   â”œâ”€â”€ compact.json    # Tighter spacing multipliers</p>
<p>â”‚   â”‚   â”œâ”€â”€ comfortable.json # Standard spacing (baseline)</p>
<p>â”‚   â”‚   â””â”€â”€ spacious.json   # Looser spacing multipliers</p>
<p>â”‚   â”œâ”€â”€ _future-modes/  # <span class="status-planned">ğŸ†•</span> Reserved space for modes requiring research</p>
<p>â”‚   â”‚   â”œâ”€â”€ responsive/ # <span class="phase-section">Phase 2</span>: Viewport-based scaling (framework enabled, implementation deferred)</p>
<p>â”‚   â”‚   â”œâ”€â”€ contrast/   # <span class="phase-section">Phase 2</span>: A11y high contrast modes (research required)</p>
<p>â”‚   â”‚   â”œâ”€â”€ motion/     # <span class="phase-section">Phase 2</span>: Animation preferences (enabled/disabled/reduced)</p>
<p>â”‚   â”‚   â”œâ”€â”€ typography/ # <span class="phase-section">Phase 2</span>: Font scaling, reading modes (research required)</p>
<p>â”‚   â”‚   â””â”€â”€ user-preferences/ # <span class="phase-section">Phase 3</span>: User-controlled A11y modes (font scaling, motion, contrast, dyslexia support)</p>
<p>â”‚   â””â”€â”€ README.md       # <span class="status-planned">ğŸ†•</span> Modes architecture system documentation</p>
</code>`<code>

<p><strong>Key Modes Architecture Principles:</strong></p>
<ul><li><strong>Scalable</strong>: Easy to add new mode categories</li><li><strong>Consistent</strong>: All modes follow the same token structure patterns</li><li><strong>Semantic</strong>: Mode tokens reference primitive/semantic tokens, not hardcoded values</li><li><strong>Extensible</strong>: Architecture supports future A11y, UX, and brand mode requirements</li></ul>

<h3><span class="phase-section">Phase 2</span>: Semantic Mode Token Definitions</h3>

<h4><strong>Component Size Modes (semantic/modes/component-size/)</strong></h4>

<strong>sm.json</strong> - Small component dimensions:
</code>`<code>json
<p>{</p>
<p>  "ob": {</p>
<p>    "s": {</p>
<p>      "modes": {</p>
<p>        "component-size": {</p>
<p>          "button": {</p>
<p>            "height": { "$type": "dimension", "$value": "{ob.s.size.element.sm}" },</p>
<p>            "min-height": { "$type": "dimension", "$value": "{ob.s.size.element.sm}" }</p>
<p>          },</p>
<p>          "input": {</p>
<p>            "height": { "$type": "dimension", "$value": "{ob.s.size.element.sm}" }</p>
<p>          },</p>
<p>          "tag": {</p>
<p>            "padding-vertical": { "$type": "spacing", "$value": "{ob.s.spacing.none}" },</p>
<p>            "padding-horizontal": { "$type": "spacing", "$value": "{ob.s.spacing.md}" }</p>
<p>          }</p>
<p>        }</p>
<p>      }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<strong>md.json</strong> - Medium component dimensions (baseline):
</code>`<code>json
<p>{</p>
<p>  "ob": {</p>
<p>    "s": {</p>
<p>      "modes": {</p>
<p>        "component-size": {</p>
<p>          "button": {</p>
<p>            "height": { "$type": "dimension", "$value": "{ob.s.size.element.md}" },</p>
<p>            "min-height": { "$type": "dimension", "$value": "{ob.s.size.element.md}" }</p>
<p>          },</p>
<p>          "input": {</p>
<p>            "height": { "$type": "dimension", "$value": "{ob.s.size.element.md}" }</p>
<p>          },</p>
<p>          "tag": {</p>
<p>            "padding-vertical": { "$type": "spacing", "$value": "{ob.s.spacing.xs}" },</p>
<p>            "padding-horizontal": { "$type": "spacing", "$value": "{ob.s.spacing.lg}" }</p>
<p>          }</p>
<p>        }</p>
<p>      }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<h4><strong>Density Modes (semantic/modes/density/)</strong></h4>

<strong>comfortable.json</strong> - Standard density (baseline):
</code>`<code>json
<p>{</p>
<p>  "ob": {</p>
<p>    "s": {</p>
<p>      "modes": {</p>
<p>        "density": {</p>
<p>          "layout": {</p>
<p>            "stack-gap": { "$type": "spacing", "$value": "{ob.s.spacing.lg}" },</p>
<p>            "card-padding": { "$type": "spacing", "$value": "{ob.s.spacing.xl}" },</p>
<p>            "section-margin": { "$type": "spacing", "$value": "{ob.s.spacing.2xl}" }</p>
<p>          }</p>
<p>        }</p>
<p>      }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<strong>compact.json</strong> - Tighter density:
</code>`<code>json
<p>{</p>
<p>  "ob": {</p>
<p>    "s": {</p>
<p>      "modes": {</p>
<p>        "density": {</p>
<p>          "layout": {</p>
<p>            "stack-gap": { "$type": "spacing", "$value": "{ob.s.spacing.md}" },</p>
<p>            "card-padding": { "$type": "spacing", "$value": "{ob.s.spacing.lg}" },</p>
<p>            "section-margin": { "$type": "spacing", "$value": "{ob.s.spacing.xl}" }</p>
<p>          }</p>
<p>        }</p>
<p>      }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<h3><span class="phase-section">Phase 3</span>: Universal Modes Architecture Theme Integration</h3>

<h4><strong>Add to global/themes-user/ - Comprehensive Modes Support</strong></h4>
</code>`<code>
<p>global/themes-user/</p>
<p>â”œâ”€â”€ lightness/          # <span class="status-complete">âœ…</span> Existing: Light/dark theme modes</p>
<p>â”œâ”€â”€ viewport/           # <span class="status-complete">âœ…</span> Existing: Responsive scaling modes</p>
<p>â”œâ”€â”€ component-size/     # <span class="status-planned">ğŸ†•</span> NEW: Size modes configuration (design system controlled)</p>
<p>â”‚   â”œâ”€â”€ sm.json        # References semantic/modes/component-size/sm.json</p>
<p>â”‚   â”œâ”€â”€ md.json        # References semantic/modes/component-size/md.json (default)</p>
<p>â”‚   â””â”€â”€ lg.json        # References semantic/modes/component-size/lg.json</p>
<p>â”œâ”€â”€ density/           # <span class="status-planned">ğŸ†•</span> NEW: Density modes configuration (product designer controlled)</p>
<p>â”‚   â”œâ”€â”€ compact.json   # References semantic/modes/density/compact.json</p>
<p>â”‚   â”œâ”€â”€ comfortable.json # References semantic/modes/density/comfortable.json (default)</p>
<p>â”‚   â””â”€â”€ spacious.json  # References semantic/modes/density/spacious.json</p>
<p>â””â”€â”€ _future-modes/     # <span class="status-planned">ğŸ†•</span> RESERVED: Modes architecture ready for expansion (<span class="phase-section">Phase 2</span>+)</p>
<p>    â”œâ”€â”€ responsive/    # <span class="phase-section">Phase 2</span>: Viewport-based scaling modes (framework ready, research needed)</p>
<p>    â”œâ”€â”€ contrast/      # <span class="phase-section">Phase 2</span>: A11y high contrast modes (research required)</p>
<p>    â”œâ”€â”€ motion/        # <span class="phase-section">Phase 2</span>: Animation preference modes (enabled/disabled/reduced)  </p>
<p>    â”œâ”€â”€ typography/    # <span class="phase-section">Phase 2</span>: Typography scaling modes (research required)</p>
<p>    â””â”€â”€ user-preferences/ # <span class="phase-section">Phase 3</span>: User-controlled A11y modes (font scaling, motion prefs, contrast, dyslexia support)</p>
</code>`<code>

<p><strong>Multi-Dimensional Modes Architecture:</strong></p>
<ul><li><strong><span class="phase-section">Phase 1</span></strong>: </code>lightness Ã— viewport Ã— component-size Ã— density<code> (4D) - Full implementation</li><li><strong><span class="phase-section">Phase 2</span></strong>: </code>+ responsive Ã— contrast Ã— motion Ã— typography<code> (8D) - Framework enabled, research required</li><li><strong><span class="phase-section">Phase 3</span></strong>: </code>+ user-preferences<code> (9D+) - User-controlled A11y modes (font scaling, motion, contrast, dyslexia support)</li><li><strong>Future</strong>: Additional modes as requirements emerge (nD)</li></ul>

<h3><span class="phase-section">Phase 4</span>: Component Migration</h3>

<h4><strong>Strategy A: Keep Current Icon Holder Pattern</strong> <span class="status-complete">âœ…</span> Recommended</h4>
<strong>Rationale:</strong> Already working, follows semantic boundaries

<p>Current icon_holder structure â†’ Continue using separate files</p>
<ul><li></code>sm.json<code>, </code>md.json<code>, </code>lg.json<code> reference semantic modes</li><li>Maintains component isolation</li><li>Allows component-specific size boundaries</li></ul>

<h4><strong>Strategy B: Migrate Tag to Semantic References</strong></h4>
<p><strong>Before (current):</strong></p>
</code>`<code>json
<p>{</p>
<p>  "padding": {</p>
<p>    "vertical": {</p>
<p>      "sm": { "$value": "{ob.s.spacing.none}" },</p>
<p>      "md": { "$value": "{ob.s.spacing.xs}" },</p>
<p>      "lg": { "$value": "{ob.s.spacing.lg}" }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<p><strong>After (semantic reference):</strong></p>
</code>`<code>json
<p>{</p>
<p>  "padding": {</p>
<p>    "vertical": {</p>
<p>      "sm": { "$value": "{ob.s.modes.component-size.tag.padding-vertical}" },</p>
<p>      "md": { "$value": "{ob.s.modes.component-size.tag.padding-vertical}" },</p>
<p>      "lg": { "$value": "{ob.s.modes.component-size.tag.padding-vertical}" }</p>
<p>    }</p>
<p>  }</p>
<p>}</p>
</code>`<code>

<h2>Implementation Recommendations</h2>

<h3><span class="status-complete">âœ…</span> <strong>Preserve What Works</strong></h3>
<ul><li><strong>Keep icon_holder file-based structure</strong> - Already follows semantic boundaries</li><li><strong>Keep responsive multiplier system</strong> - </code>mult_responsive<code> in viewport themes works well</li><li><strong>Keep existing semantic/sizing.json</strong> - W3C DTCG compliant and properly structured</li></ul>

<h3><span class="status-progress">ğŸ”„</span> <strong>Migrate Gradually</strong></h3>

<h4><strong>Pre-Migration: System Cleanup</strong> âš ï¸</h4>
1. <strong>Create dedicated migration branch</strong> - Work on </code>feature/size-modes-migration<code> to isolate changes from current development
2. <strong>Create new Figma file for migration branch</strong> - Duplicate current design system file and associate with the migration branch for design-dev sync
3. <strong>Repair all broken token references</strong> - Fix any invalid </code>{ob.*}<code> token references before introducing new semantic modes
4. <strong>Validate existing token chains</strong> - Ensure current semantic tokens properly resolve to primitive values
5. <strong>Test current build process</strong> - Confirm all existing components compile successfully

<h4><strong>Priority 1: Create Universal Modes Architecture Foundation</strong></h4>
1. Create </code>semantic/modes/<code> folder structure with extensible modes architecture
<p>2. Define component-size modes tokens (sm/md/lg)</p>
<p>3. Define density modes tokens (compact/comfortable/spacious)</p>
4. Reserve </code>_future-modes/<code> structure for planned architecture expansions

<h4><strong>Priority 2: Component Integration with Modes Architecture</strong></h4>
<p>1. Tag component â†’ Reference semantic modes architecture</p>
<p>2. Add component boundaries (sm/md/lg limits per component)</p>
<p>3. Validate grid alignment with multiplier system</p>

<h4><strong>Priority 3: Establish Multi-Dimensional Modes Architecture System</strong></h4>
<p>1. Add component-size and density modes configuration (controlled by design system consumers/product designers)</p>
<p>2. Test multi-dimensional modes combinations (lightness Ã— viewport Ã— component-size Ã— density)</p>
<p>3. Document modes interaction patterns and architecture extensibility</p>
<p>4. Validate scalability for future modes additions requiring research (responsive, contrast, motion, typography)</p>

<strong>Note</strong>: Density modes are design system configurations set by product designers, not user preferences.

<h3>âš ï¸ <strong>Key Considerations</strong></h3>

<h4><strong>Grid Alignment Validation</strong></h4>
<ul><li>Ensure </code>mult_responsive<code> (4px desktop, 5px mobile) preserves 4px grid</li><li>Test all mode combinations maintain proper alignment</li><li>Validate that semantic mode tokens respect base grid</li></ul>

<h4><strong>Component Boundaries</strong></h4>
<p>Based on competitive analysis findings, most design systems (75%) use independent component sizing:</p>
</code>`<code>json
<p>// Components define their supported size ranges</p>
<p>{</p>
<p>  "button": { "modes": ["sm", "md", "lg"] },       // Supports all modes</p>
<p>  "navigation": { "modes": ["md"] },               // Fixed medium only  </p>
<p>  "card": { "modes": ["md", "lg"] }               // Medium and large only</p>
<p>}</p>
</code>`<code>
<strong>Note</strong>: This pattern is rare in industry - only 2/8 analyzed systems use component size coordination.

<h4><strong>Modes Architecture Theme Resolution Order - Extensible Framework</strong></h4>
<span class="phase-section">Phase 1</span>: </code>lightness Ã— viewport Ã— component-size Ã— density<code> (4D - Full Implementation)  
<span class="phase-section">Phase 2</span>: </code>+ responsive Ã— contrast Ã— motion Ã— typography<code> (8D - Framework enabled, research required)
<span class="phase-section">Phase 3</span>: </code>+ user-preferences<code> (9D+ - User-controlled A11y modes requiring extensive research)
<p>Future: Additional modes as requirements emerge (nD)</p>

<strong>Validation needed:</strong> Test that "last wins" theme resolution scales with multi-dimensional modes architecture combinations.

<h2>Implementation Checklist</h2>

<h3><span class="phase-section">Phase 1</span>: Universal Modes Architecture Foundation</h3>
<ul><li>[ ] Create </code>semantic/modes/<code> folder structure with extensible modes architecture design</li><li>[ ] Define component-size modes tokens (sm/md/lg) </li><li>[ ] Define density modes tokens (compact/comfortable/spacious)</li><li>[ ] Reserve </code>_future-modes/<code> architecture for <span class="phase-section">Phase 2</span> modes (responsive, contrast, motion, typography)</li><li>[ ] Document modes architecture system in README.md with <span class="phase-section">Phase 1</span>/2 roadmap</li></ul>

<h3><span class="phase-section">Phase 2</span>: Multi-Dimensional Modes Theme Integration</h3>
<ul><li>[ ] Add global theme files for size and density modes (<span class="phase-section">Phase 1</span> implementation)</li><li>[ ] Update </code>$themes.json<code> to support multi-dimensional modes architecture system</li><li>[ ] Test modes configuration with existing lightness/viewport modes</li><li>[ ] Validate theme resolution scales with nD modes combinations</li><li>[ ] <strong>Enable framework</strong> for <span class="phase-section">Phase 2</span> modes (responsive, contrast, motion, typography) without full implementation</li></ul>

<h3><span class="phase-section">Phase 3</span>: Component Migration & Modes Architecture Validation</h3>
<ul><li>[ ] Migrate tag component to semantic modes architecture references</li><li>[ ] Validate icon_holder compatibility with new modes architecture</li><li>[ ] Test grid alignment across all current modes combinations</li><li>[ ] Document component integration patterns for future modes</li></ul>

<h3><span class="phase-section">Phase 4</span>: Modes Architecture Validation & Future-Proofing</h3>
<ul><li>[ ] Verify multiplier system maintains 4px grid alignment</li><li>[ ] Test all current modes combinations function correctly</li><li>[ ] Validate component boundaries prevent breaking points</li><li>[ ] Document extensible patterns for future modes architecture categories  </li><li>[ ] <strong><span class="phase-section">Phase 2</span> Planning</strong>: Research responsive modes, A11y high contrast, animation preferences, and typography scaling</li><li>[ ] <strong><span class="phase-section">Phase 3</span> Planning</strong>: Research user preference modes (font scaling A+/A/Aâ€“, motion preferences, contrast settings, dyslexia-friendly typography)</li><li>[ ] <strong>Long-term Planning</strong>: Define implementation roadmap for user-controlled accessibility modes</li></ul>

<h2>Expected Benefits</h2>

<h3><strong>For Designers</strong></h3>
<ul><li>Comprehensive mode system for component size coordination *(Note: Based on research, only 25% of design systems implement size coordination)*</li><li><strong>Extensible architecture</strong> supporting future mode categories (contrast, motion, typography)</li><li>Component size mode options (sm/md/lg) at the design system level</li></ul>

<h3><strong>For Developers</strong> </h3>
<ul><li><strong>Universal modes architecture</strong> that scales beyond size and density</li><li>Clear modes system patterns following W3C DTCG standards</li><li><strong>Future-proof architecture foundation</strong> for accessibility and UX modes requirements</li></ul>

<h3><strong>For System</strong></h3>
<ul><li><strong>Scalable tokens architecture</strong> aligned with W3C DTCG standards</li><li>Maintains existing responsive multiplier benefits  </li><li>Preserves 4px grid alignment system</li><li><strong>Extensible modes architecture foundation</strong> ready for planned mode categories (contrast, motion, typography)</li><li><strong>Multi-dimensional modes theme system</strong> supporting complex product requirements</li></ul>

<h2>ğŸ¯ MVP Success Criteria</h2>

<h3><strong>Architecture Validation</strong></h3>
<ul><li>[ ] Complete modes architecture structure prepared for all future phases</li><li>[ ] 4D mode system working: </code>lightness Ã— interaction-emphasis Ã— viewport Ã— component-size<code></li><li>[ ] Token resolution validates across all MVP mode combinations</li><li>[ ] Theme switching works seamlessly between all MVP modes</li></ul>

<h3><strong>Component Validation</strong> </h3>
<ul><li>[ ] All 5 test components render correctly in all MVP mode combinations</li><li>[ ] </code>infobox<code> shows all status colors work across lightness + interaction-emphasis modes</li><li>[ ] </code>input text field<code> babuschka complexity handles nested component modes correctly</li><li>[ ] Size mode coordination works across </code>icon_holder<code>, </code>button<code>, </code>tag` relationships</li></ul>

<h3><strong>Technical Validation</strong></h3>
<ul><li>[ ] Simplified viewport (desktop/mobile) maintains 4px grid alignment</li><li>[ ] Build system processes all mode combinations without errors</li><li>[ ] No broken token references across any MVP mode combination</li><li>[ ] Documentation clearly shows MVP scope vs future architecture vision</li></ul>

<h2><span class="status-progress">ğŸ”„</span> Post-MVP Expansion Path</h2>

<strong><span class="phase-section">Phase 2</span></strong>: Add density modes to existing 4D system â†’ 5D system  
<strong><span class="phase-section">Phase 3</span></strong>: Enable responsive, contrast, motion, typography â†’ 9D system  
<strong><span class="phase-section">Phase 4</span></strong>: User preference modes â†’ 12D system (complete)

<p>*Complete architecture prepared from MVP, selective activation by phase*</p>

    </div>
    
    <footer style="position: fixed; bottom: 0; width: 100%; text-align: center; font-size: 9pt; color: #666; border-top: 1px solid #eee; padding: 8pt 0; background: white;">
        Modes Architecture Roadmap | Design System Team | September 2025
    </footer>
</body>
</html>