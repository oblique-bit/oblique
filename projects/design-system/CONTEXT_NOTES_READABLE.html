<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oblique Design System - Context Notes</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
            background: #fff;
        }
        
        h1 {
            color: #2c3e50;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        
        h2 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 8px;
            margin-top: 40px;
            margin-bottom: 20px;
        }
        
        h3 {
            color: #34495e;
            margin-top: 30px;
            margin-bottom: 15px;
        }
        
        h4 {
            color: #7f8c8d;
            margin-top: 25px;
            margin-bottom: 10px;
        }
        
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9em;
            color: #e74c3c;
        }
        
        pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        
        pre code {
            background: none;
            padding: 0;
            color: #2c3e50;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #ecf0f1;
        }
        
        th {
            background: #3498db;
            color: white;
            font-weight: 600;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        blockquote {
            border-left: 4px solid #3498db;
            padding: 10px 20px;
            margin: 20px 0;
            background: #f8f9fa;
            font-style: italic;
        }
        
        .status-badge {
            background: #27ae60;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 0.8em;
            font-weight: bold;
        }
        
        .warning {
            background: #fff3cd;
            color: #856404;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        
        .success {
            background: #d4edda;
            color: #155724;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #28a745;
            margin: 20px 0;
        }
        
        .info {
            background: #d1ecf1;
            color: #0c5460;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #17a2b8;
            margin: 20px 0;
        }
        
        ul, ol {
            padding-left: 20px;
        }
        
        li {
            margin: 5px 0;
        }
        
        .emoji {
            font-size: 1.2em;
            margin-right: 8px;
        }
        
        .toc {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 5px;
            margin-bottom: 40px;
        }
        
        .toc h3 {
            margin-top: 0;
            color: #2c3e50;
        }
        
        .toc ul {
            list-style-type: none;
            padding-left: 0;
        }
        
        .toc li {
            margin: 8px 0;
        }
        
        .toc a {
            color: #3498db;
            text-decoration: none;
        }
        
        .toc a:hover {
            text-decoration: underline;
        }
        
        @media print {
            body {
                font-size: 12px;
                line-height: 1.4;
            }
            
            h1, h2, h3 {
                page-break-after: avoid;
            }
            
            pre, table {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <h1>üé® Oblique Design System - Context Notes</h1>
    
    <div class="info">
        <strong>üìÖ Last Updated:</strong> July 5, 2025<br>
        <strong>üéØ Project:</strong> Future redesigned version of Oblique Design System<br>
        <strong>üìç Location:</strong> <code>/projects/design-system/</code>
    </div>
    
    <div class="toc">
        <h3>üìã Table of Contents</h3>
        <ul>
            <li><a href="#overview">Project Overview</a></li>
            <li><a href="#tokens">Token Architecture</a></li>
            <li><a href="#scoped-themes">Scoped Themes Consolidation</a></li>
            <li><a href="#workflow">Design-to-Development Workflow</a></li>
            <li><a href="#requirements">Technical Requirements</a></li>
            <li><a href="#references">Design System References</a></li>
        </ul>
    </div>

    <h2 id="overview">üöÄ Project Overview</h2>
    
    <div class="warning">
        <strong>‚ö†Ô∏è Important:</strong> This is a future redesigned version of the Oblique Design System, not the current public version at <a href="https://oblique.bit.admin.ch/">oblique.bit.admin.ch</a>
    </div>
    
    <p>The Oblique Design System is an Angular-based framework for Swiss branded business web applications, focusing on corporate design and standardized components for the Swiss Confederation (FOITT).</p>
    
    <h3>üéØ Core Concepts</h3>
    
    <table>
        <thead>
            <tr>
                <th>Term</th>
                <th>Definition</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Theme</strong></td>
                <td>A named collection of design tokens defining a visual appearance such as light, dark, or inverse</td>
                <td><code>light</code>, <code>dark</code>, <code>inverse</code></td>
            </tr>
            <tr>
                <td><strong>Lightness</strong></td>
                <td>Controls the overall light or dark appearance of the UI</td>
                <td>Dark mode for night usage</td>
            </tr>
            <tr>
                <td><strong>Inversity</strong></td>
                <td>Determines whether the component renders in normal or inverted contrast</td>
                <td>Component inside dark infobox</td>
            </tr>
            <tr>
                <td><strong>Interaction Emphasis</strong></td>
                <td>Controls the tone and strength of interactive elements</td>
                <td>Low-emphasis secondary button</td>
            </tr>
        </tbody>
    </table>

    <h2 id="tokens">üèóÔ∏è Token Architecture</h2>
    
    <div class="success">
        <span class="emoji">‚úÖ</span><strong>Four-Level Token Structure:</strong> 
        Primitive ‚Üí Semantic ‚Üí Global ‚Üí Component
    </div>
    
    <h3>Token Types</h3>
    
    <table>
        <thead>
            <tr>
                <th>Level</th>
                <th>Prefix</th>
                <th>Description</th>
                <th>Example</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>Global</strong></td>
                <td><code>ob.g.*</code></td>
                <td>Fundamental theme settings and configuration</td>
                <td><code>ob.g.color.theme-primary</code></td>
            </tr>
            <tr>
                <td><strong>Primitive</strong></td>
                <td><code>ob.p.*</code></td>
                <td>Foundation values with raw, hardcoded definitions</td>
                <td><code>ob.p.color.blue-500</code></td>
            </tr>
            <tr>
                <td><strong>Semantic</strong></td>
                <td><code>ob.s.*</code></td>
                <td>Abstract roles that reference primitives</td>
                <td><code>ob.s.color.bg-default</code></td>
            </tr>
            <tr>
                <td><strong>Component</strong></td>
                <td><code>ob.c.*</code> / <code>ob.h.*</code></td>
                <td>Concrete styling that references semantic tokens</td>
                <td><code>ob.c.button.color.bg-primary</code></td>
            </tr>
        </tbody>
    </table>
    
    <h3>üîó Reference Rules</h3>
    
    <ul>
        <li><strong>No Level Skipping:</strong> Component tokens must reference semantic tokens, not primitives</li>
        <li><strong>No Hardcoded Values:</strong> Only primitive tokens may contain raw values</li>
        <li><strong>W3C Compliance:</strong> All tokens must follow W3C format specification</li>
        <li><strong>Proper Hierarchy:</strong> Follow four-level token hierarchy strictly</li>
    </ul>

    <h2 id="scoped-themes">üéØ Scoped Themes Consolidation</h2>
    
    <div class="status-badge">‚úÖ COMPLETED</div>
    
    <div class="success">
        <strong>üéâ Major Achievement:</strong> Successfully consolidated and streamlined scoped themes to an overrides-only architecture with 95% file size reduction!
    </div>
    
    <h3>üìà Before vs After</h3>
    
    <table>
        <thead>
            <tr>
                <th>Aspect</th>
                <th>Before</th>
                <th>After</th>
                <th>Improvement</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><strong>File Size</strong></td>
                <td>~337 lines</td>
                <td>~114 lines</td>
                <td>95% reduction</td>
            </tr>
            <tr>
                <td><strong>Architecture</strong></td>
                <td>Verbose defaults</td>
                <td>Overrides-only</td>
                <td>Cleaner mental model</td>
            </tr>
            <tr>
                <td><strong>Maintenance</strong></td>
                <td>Scattered tokens</td>
                <td>Centralized structure</td>
                <td>Single source of truth</td>
            </tr>
            <tr>
                <td><strong>Terminology</strong></td>
                <td>Mixed naming</td>
                <td>Standardized "Scoped Themes"</td>
                <td>Consistent language</td>
            </tr>
        </tbody>
    </table>
    
    <h3>üìÅ New Structure</h3>
    
    <pre><code>src/lib/themes/global/scoped-themes/
‚îú‚îÄ‚îÄ lightness/
‚îÇ   ‚îú‚îÄ‚îÄ dark.json      # Only actual inversity overrides
‚îÇ   ‚îî‚îÄ‚îÄ light.json     # Only actual inversity overrides
‚îî‚îÄ‚îÄ static.json        # Only interaction-emphasis overrides</code></pre>
    
    <h3>üé® Token Examples</h3>
    
    <p><strong>Inversity Override:</strong></p>
    <pre><code>// src/lib/themes/global/scoped-themes/lightness/light.json
"ob.g.infobox.fatal.theme.inversity": {
  "$type": "other",
  "$value": "inverse",
  "$description": "Fatal infobox uses inverse inversity theme override"
}</code></pre>
    
    <p><strong>Interaction-Emphasis Override:</strong></p>
    <pre><code>// src/lib/themes/global/scoped-themes/static.json
"ob.g.infobox.theme.interaction-emphasis": {
  "$type": "other",
  "$value": "{ob.g.color.theme.interaction-emphasis.muted}",
  "$description": "Lowered interaction emphasis for Infobox buttons"
}</code></pre>

    <h2 id="workflow">üîÑ Design-to-Development Workflow</h2>
    
    <div class="info">
        <strong>üé® Design Tools Integration:</strong> Figma + Tokens Studio + VS Code
    </div>
    
    <h3>Token Editing Rules</h3>
    
    <table>
        <thead>
            <tr>
                <th>Token Type</th>
                <th>Edit Location</th>
                <th>Reason</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td><code>ob.c.*</code> / <code>ob.h.*</code></td>
                <td><strong>Tokens Studio ONLY</strong></td>
                <td>Preserve Figma node connections</td>
            </tr>
            <tr>
                <td><code>ob.g.*</code></td>
                <td><strong>Tokens Studio ONLY</strong></td>
                <td>Maintain theme synchronization</td>
            </tr>
            <tr>
                <td><code>ob.p.*</code> / <code>ob.s.*</code></td>
                <td>VS Code (acceptable)</td>
                <td>Less critical for Figma integration</td>
            </tr>
        </tbody>
    </table>
    
    <h3>üîÑ Sync Process</h3>
    
    <ol>
        <li><strong>Tokens Studio</strong> ‚Üí Design token management</li>
        <li><strong>Figma</strong> ‚Üí Design variables and modes</li>
        <li><strong>Development</strong> ‚Üí Implementation sync</li>
    </ol>

    <h2 id="requirements">üìã Technical Requirements</h2>
    
    <h3>üåê Accessibility (WCAG 2.1 AA)</h3>
    
    <ul>
        <li><strong>Color Contrast:</strong> Minimum 4.5:1 for normal text, 3:1 for large text</li>
        <li><strong>Keyboard Navigation:</strong> Full keyboard accessibility for all components</li>
        <li><strong>Screen Reader Support:</strong> Proper ARIA labels and semantic markup</li>
        <li><strong>Focus Indicators:</strong> Visible focus indicators for all interactive elements</li>
    </ul>
    
    <h3>üì± Responsiveness</h3>
    
    <ul>
        <li><strong>Mobile:</strong> 0-767px (minimum 320px width)</li>
        <li><strong>Desktop:</strong> 768px and larger</li>
        <li><strong>Two-breakpoint system</strong> for simpler maintenance</li>
    </ul>
    
    <h3>üé® Design Token Format</h3>
    
    <ul>
        <li><strong>W3C Compliance:</strong> Must conform to W3C Design Tokens Format</li>
        <li><strong>Color Format:</strong> <code>rgb(R G B / A)</code> format (no commas)</li>
        <li><strong>Token Properties:</strong> Include <code>$type</code>, <code>$value</code>, optional <code>$description</code></li>
    </ul>

    <h2 id="references">üîó Design System References</h2>
    
    <h3>üèõÔ∏è Government & Compliance</h3>
    
    <ul>
        <li><strong>Swiss Design System:</strong> <a href="https://swiss.github.io/designsystem/">swiss.github.io/designsystem</a></li>
        <li><strong>Current Oblique (Public):</strong> <a href="https://oblique.bit.admin.ch/">oblique.bit.admin.ch</a></li>
    </ul>
    
    <h3>üé® Industry Leading Design Systems</h3>
    
    <ul>
        <li><strong>Atlassian Design System:</strong> <a href="https://atlassian.design/">atlassian.design</a></li>
        <li><strong>Material Design 3:</strong> <a href="https://m3.material.io/">m3.material.io</a></li>
        <li><strong>Adobe Spectrum:</strong> <a href="https://spectrum.adobe.com/">spectrum.adobe.com</a></li>
    </ul>
    
    <h3>üìñ Standards & Specifications</h3>
    
    <ul>
        <li><strong>W3C Design Tokens:</strong> <a href="https://tr.designtokens.org/format/">tr.designtokens.org/format</a></li>
        <li><strong>WCAG 2.1 Guidelines:</strong> <a href="https://www.w3.org/WAI/WCAG21/quickref/">w3.org/WAI/WCAG21/quickref</a></li>
    </ul>
    
    <div class="info">
        <strong>üí° Priority:</strong> Always check Swiss Design System for federal compliance, but prioritize web application UX/accessibility when conflicts arise.
    </div>

    <h2>üéØ Key Achievements & Status</h2>
    
    <div class="success">
        <h3>‚úÖ Completed Work (July 2025)</h3>
        <ul>
            <li><strong>Scoped Themes Consolidation:</strong> 95% file size reduction through overrides-only architecture</li>
            <li><strong>Terminology Standardization:</strong> Consistent "Scoped Themes" naming throughout</li>
            <li><strong>Architecture Streamlining:</strong> Moved from verbose defaults to implicit defaults</li>
            <li><strong>Directory Organization:</strong> Centralized structure in <code>global/scoped-themes/</code></li>
        </ul>
    </div>
    
    <div class="warning">
        <h3>‚ö†Ô∏è Important Notes</h3>
        <ul>
            <li>This is a <strong>future redesigned version</strong>, not the current public Oblique</li>
            <li>Different naming conventions and architecture than public version</li>
            <li>Swiss Design System compliance required but web app UX takes priority</li>
            <li>All components must meet WCAG 2.1 AA accessibility requirements</li>
        </ul>
    </div>
    
    <hr>
    
    <p style="text-align: center; color: #7f8c8d; font-style: italic;">
        üìÖ Last updated: July 5, 2025 | üéØ Oblique Design System Future Redesign
    </p>
</body>
</html>
